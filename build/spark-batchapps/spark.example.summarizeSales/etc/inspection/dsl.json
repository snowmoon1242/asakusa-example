{"id":"spark.example.summarizeSales","title":"Batch","inputs":[],"outputs":[],"properties":{"batchId":"spark.example.summarizeSales","description":"com.example.batch.SummarizeBatch","comment":"(no comments)"},"elements":[{"id":"byCategory","title":"Jobflow","inputs":[{"id":"predecessors","properties":{},"opposites":[]}],"outputs":[{"id":"successors","properties":{},"opposites":[]}],"properties":{"kind":"Jobflow","flowId":"byCategory","description":"com.example.jobflow.CategorySummaryJob"},"elements":[{"id":"input-0-itemInfo","title":"Input","inputs":[],"outputs":[{"id":"port","properties":{"type":"Class(com.example.modelgen.dmdl.model.ItemInfo)"},"opposites":[["user-6","info"]]}],"properties":{"kind":"ExternalInput","name":"itemInfo","type":"Class(com.example.modelgen.dmdl.model.ItemInfo)","description":"com.example.jobflow.ItemInfoFromCsv","module":"directio","size":"LARGE","serialNumber":"0","originalSerialNumber":"0"},"elements":[]},{"id":"input-2-storeInfo","title":"Input","inputs":[],"outputs":[{"id":"port","properties":{"type":"Class(com.example.modelgen.dmdl.model.StoreInfo)"},"opposites":[["user-3","info"]]}],"properties":{"kind":"ExternalInput","name":"storeInfo","type":"Class(com.example.modelgen.dmdl.model.StoreInfo)","description":"com.example.jobflow.StoreInfoFromCsv","module":"directio","size":"TINY","serialNumber":"2","originalSerialNumber":"2"},"elements":[]},{"id":"output-11-categorySummary","title":"Output","inputs":[{"id":"port","properties":{"type":"Class(com.example.modelgen.dmdl.model.CategorySummary)"},"opposites":[["user-10","out"]]}],"outputs":[],"properties":{"kind":"ExternalOutput","name":"categorySummary","type":"Class(com.example.modelgen.dmdl.model.CategorySummary)","description":"com.example.jobflow.CategorySummaryToCsv","module":"directio","serialNumber":"11","originalSerialNumber":"11"},"elements":[]},{"id":"input-1-salesDetail","title":"Input","inputs":[],"outputs":[{"id":"port","properties":{"type":"Class(com.example.modelgen.dmdl.model.SalesDetail)"},"opposites":[["user-3","sales"]]}],"properties":{"kind":"ExternalInput","name":"salesDetail","type":"Class(com.example.modelgen.dmdl.model.SalesDetail)","description":"com.example.jobflow.SalesDetailFromCsv","module":"directio","size":"LARGE","serialNumber":"1","originalSerialNumber":"1"},"elements":[]},{"id":"user-3","title":"MasterCheck","inputs":[{"id":"info","properties":{"type":"Class(com.example.modelgen.dmdl.model.StoreInfo)","group":"Group[\u003dstore_code]"},"opposites":[["input-2-storeInfo","port"]]},{"id":"sales","properties":{"type":"Class(com.example.modelgen.dmdl.model.SalesDetail)","group":"Group[\u003dstore_code]"},"opposites":[["input-1-salesDetail","port"]]}],"outputs":[{"id":"found","properties":{"type":"Class(com.example.modelgen.dmdl.model.SalesDetail)"},"opposites":[["user-6","sales"]]},{"id":"missed","properties":{"type":"Class(com.example.modelgen.dmdl.model.SalesDetail)"},"opposites":[["core-4","in"]]}],"properties":{"kind":"MasterCheck","class":"com.example.operator.CategorySummaryOperator","method":"checkStore","serialNumber":"3","originalSerialNumber":"3"},"elements":[]},{"id":"user-10","title":"Summarize","inputs":[{"id":"info","properties":{"type":"Class(com.example.modelgen.dmdl.model.JoinedSalesInfo)","group":"Group[\u003dcategory_code]"},"opposites":[["user-6","joined"]]}],"outputs":[{"id":"out","properties":{"type":"Class(com.example.modelgen.dmdl.model.CategorySummary)"},"opposites":[["output-11-categorySummary","port"]]}],"properties":{"kind":"Summarize","class":"com.example.operator.CategorySummaryOperator","method":"summarizeByCategory","serialNumber":"10","originalSerialNumber":"10"},"elements":[]},{"id":"user-5","title":"Update","inputs":[{"id":"record","properties":{"type":"Class(com.example.modelgen.dmdl.model.ErrorRecord)"},"opposites":[["core-4","out"]]}],"outputs":[{"id":"out","properties":{"type":"Class(com.example.modelgen.dmdl.model.ErrorRecord)"},"opposites":[["output-9-errorRecord","port"]]}],"properties":{"kind":"Update","class":"com.example.operator.CategorySummaryOperator","method":"setErrorMessage","serialNumber":"5","originalSerialNumber":"5","arguments.message":"店舗不明"},"elements":[]},{"id":"user-6","title":"MasterJoin","inputs":[{"id":"info","properties":{"type":"Class(com.example.modelgen.dmdl.model.ItemInfo)","group":"Group[\u003ditem_code]"},"opposites":[["input-0-itemInfo","port"]]},{"id":"sales","properties":{"type":"Class(com.example.modelgen.dmdl.model.SalesDetail)","group":"Group[\u003ditem_code]"},"opposites":[["user-3","found"]]}],"outputs":[{"id":"joined","properties":{"type":"Class(com.example.modelgen.dmdl.model.JoinedSalesInfo)"},"opposites":[["user-10","info"]]},{"id":"missed","properties":{"type":"Class(com.example.modelgen.dmdl.model.SalesDetail)"},"opposites":[["core-7","in"]]}],"properties":{"kind":"MasterJoin","class":"com.example.operator.CategorySummaryOperator","method":"joinItemInfo","serialNumber":"6","originalSerialNumber":"6"},"elements":[]},{"id":"user-8","title":"Update","inputs":[{"id":"record","properties":{"type":"Class(com.example.modelgen.dmdl.model.ErrorRecord)"},"opposites":[["core-7","out"]]}],"outputs":[{"id":"out","properties":{"type":"Class(com.example.modelgen.dmdl.model.ErrorRecord)"},"opposites":[["output-9-errorRecord","port"]]}],"properties":{"kind":"Update","class":"com.example.operator.CategorySummaryOperator","method":"setErrorMessage","serialNumber":"8","originalSerialNumber":"8","arguments.message":"商品不明"},"elements":[]},{"id":"core-4","title":"Restructure","inputs":[{"id":"in","properties":{"type":"Class(com.example.modelgen.dmdl.model.SalesDetail)"},"opposites":[["user-3","missed"]]}],"outputs":[{"id":"out","properties":{"type":"Class(com.example.modelgen.dmdl.model.ErrorRecord)"},"opposites":[["user-5","record"]]}],"properties":{"kind":"Restructure","serialNumber":"4","originalSerialNumber":"4"},"elements":[]},{"id":"output-9-errorRecord","title":"Output","inputs":[{"id":"port","properties":{"type":"Class(com.example.modelgen.dmdl.model.ErrorRecord)"},"opposites":[["user-8","out"],["user-5","out"]]}],"outputs":[],"properties":{"kind":"ExternalOutput","name":"errorRecord","type":"Class(com.example.modelgen.dmdl.model.ErrorRecord)","description":"com.example.jobflow.ErrorRecordToCsv","module":"directio","serialNumber":"9","originalSerialNumber":"9"},"elements":[]},{"id":"core-7","title":"Restructure","inputs":[{"id":"in","properties":{"type":"Class(com.example.modelgen.dmdl.model.SalesDetail)"},"opposites":[["user-6","missed"]]}],"outputs":[{"id":"out","properties":{"type":"Class(com.example.modelgen.dmdl.model.ErrorRecord)"},"opposites":[["user-8","record"]]}],"properties":{"kind":"Restructure","serialNumber":"7","originalSerialNumber":"7"},"elements":[]}]}]}